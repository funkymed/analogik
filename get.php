<?php

$files = [
    ["2002/_new_nagz_runjump.xm","_new_nagz_runjump.xm (2002)"],
    ["2002/_new_vhiiula_greensnow.it","_new_vhiiula_greensnow.it (2002)"],
    ["2002/_new_vhiiula_jaipas.it","_new_vhiiula_jaipas.it (2002)"],
    ["2001/bacter-dna_emotions.it","bacter-dna_emotions.it (2001)"],
    ["2001/bacter-keen-vhiiula_sbrk.it","bacter-keen-vhiiula_sbrk.it (2001)"],
    ["2001/bacter-vhiiula_head.it","bacter-vhiiula_head.it (2001)"],
    ["2002/bacter_insidemyoldschoolpc.it","bacter_insidemyoldschoolpc.it (2002)"],
    ["2000/blbblb_xmas.xm","blbblb_xmas.xm (2000)"],
    ["2001/cemik-nagz_twnd.xm","cemik-nagz_twnd.xm (2001)"],
    ["2002/dualtrax_crosnake.xm","dualtrax_crosnake.xm (2002)"],
    ["2002/dualtrax_orion.xm","dualtrax_orion.xm (2002)"],
    ["2002/dualtrax_radiatorsgrill.xm","dualtrax_radiatorsgrill.xm (2002)"],
    ["2001/edzes_cec_2000.xm","edzes_cec_2000.xm (2001)"],
    ["2001/edzes_teddy.xm","edzes_teddy.xm (2001)"],
    ["2002/ernestoaeroflot_joinme.xm","ernestoaeroflot_joinme.xm (2002)"],
    ["2002/jashiin_9320000.it","jashiin_9320000.it (2002)"],
    ["2002/jashiin_convincingconvexity.s3m","jashiin_convincingconvexity.s3m (2002)"],
    ["2002/jashiin_huomenta.it","jashiin_huomenta.it (2002)"],
    ["2002/jashiin_kylmyys.it","jashiin_kylmyys.it (2002)"],
    ["2002/jashiin_mansikka.it","jashiin_mansikka.it (2002)"],
    ["2002/jashiin_nohands.it","jashiin_nohands.it (2002)"],
    ["2001/keen_falseend.it","keen_falseend.it (2001)"],
    ["2001/keen_hsf.it","keen_hsf.it (2001)"],
    ["2000/kenet-cemik_melody.xm","kenet-cemik_melody.xm (2000)"],
    ["2000/kenet-nagz_zouz.xm","kenet-nagz_zouz.xm (2000)"],
    ["2000/kenet-rez_myown.xm","kenet-rez_myown.xm (2000)"],
    ["2000/kenet_ana.xm","kenet_ana.xm (2000)"],
    ["2000/kenet_beauty.mod","kenet_beauty.mod (2000)"],
    ["2000/kenet_funky.xm","kenet_funky.xm (2000)"],
    ["2000/kenet_paris.xm","kenet_paris.xm (2000)"],
    ["2000/kenet_redflower.mod","kenet_redflower.mod (2000)"],
    ["2000/kenet_santa.mod","kenet_santa.mod (2000)"],
    ["2000/kenet_sinvibe.xm","kenet_sinvibe.xm (2000)"],
    ["2000/ks_htones.xm","ks_htones.xm (2000)"],
    ["2000/med-kenet_coeur.xm","med-kenet_coeur.xm (2000)"],
    ["2000/med-kenet_zougi.mod","med-kenet_zougi.mod (2000)"],
    ["2000/med_2000.xm","med_2000.xm (2000)"],
    ["2001/med_2voices2.xm","med_2voices2.xm (2001)"],
    ["2001/med_3vil.xm","med_3vil.xm (2001)"],
    ["2000/med_cho7.xm","med_cho7.xm (2000)"],
    ["2000/med_coline.xm","med_coline.xm (2000)"],
    ["2001/med_curry.xm","med_curry.xm (2001)"],
    ["2000/med_dartagna.xm","med_dartagna.xm (2000)"],
    ["2001/med_deep.xm","med_deep.xm (2001)"],
    ["2001/med_kickass.xm","med_kickass.xm (2001)"],
    ["2001/med_mini2.xm","med_mini2.xm (2001)"],
    ["2000/med_nia.xm","med_nia.xm (2000)"],
    ["2000/med_poisson.xm","med_poisson.xm (2000)"],
    ["2000/med_potager.xm","med_potager.xm (2000)"],
    ["2000/med_rakiz.xm","med_rakiz.xm (2000)"],
    ["2001/med_smileit.xm","med_smileit.xm (2001)"],
    ["2001/nagz-drax_rnth.xm","nagz-drax_rnth.xm (2001)"],
    ["2000/nagz-genuis_kpon.xm","nagz-genuis_kpon.xm (2000)"],
    ["2001/nagz-kenet_bckd.xm","nagz-kenet_bckd.xm (2001)"],
    ["2001/nagz_anlg.mod","nagz_anlg.mod (2001)"],
    ["2001/nagz_fcky.xm","nagz_fcky.xm (2001)"],
    ["2001/nagz_hmsp.xm","nagz_hmsp.xm (2001)"],
    ["2001/nagz_inmw.xm","nagz_inmw.xm (2001)"],
    ["2002/nagz_makingmusic.xm","nagz_makingmusic.xm (2002)"],
    ["2002/nagz_milk.xm","nagz_milk.xm (2002)"],
    ["2000/nagz_mioy.xm","nagz_mioy.xm (2000)"],
    ["2001/nagz_mtie.xm","nagz_mtie.xm (2001)"],
    ["2001/nagz_mtsp.xm","nagz_mtsp.xm (2001)"],
    ["2000/nagz_mycv.xm","nagz_mycv.xm (2000)"],
    ["2002/nagz_mydoglivesonthemoon.xm","nagz_mydoglivesonthemoon.xm (2002)"],
    ["2001/nagz_rboa.xm","nagz_rboa.xm (2001)"],
    ["2001/nagz_rwsp.xm","nagz_rwsp.xm (2001)"],
    ["2000/nagz_suxy.xm","nagz_suxy.xm (2000)"],
    ["2001/redribbon-med_upermarch.xm","redribbon-med_upermarch.xm (2001)"],
    ["2000/redribbon-poulpy_elyxiis.xm","redribbon-poulpy_elyxiis.xm (2000)"],
    ["2001/redribbon_cahouin.xm","redribbon_cahouin.xm (2001)"],
    ["2000/redribbon_pulp.xm","redribbon_pulp.xm (2000)"],
    ["2000/redribbon_redmo2final.xm","redribbon_redmo2final.xm (2000)"],
    ["2001/skybax_purp.it","skybax_purp.it (2001)"],
    ["2001/skybax_rain.it","skybax_rain.it (2001)"],
    ["2001/tomaes_tan2.xm","tomaes_tan2.xm (2001)"],
    ["2000/traven_mario.xm","traven_mario.xm (2000)"],
    ["2000/traven_scene-city.xm","traven_scene-city.xm (2000)"],
    ["2000/traven_syndrome.xm","traven_syndrome.xm (2000)"],
    ["2002/unaware-forsaken_thelight.xm","unaware-forsaken_thelight.xm (2002)"],
    ["2002/unaware-keyg_help.xm","unaware-keyg_help.xm (2002)"],
    ["2002/unaware_brainles.xm","unaware_brainles.xm (2002)"],
    ["2000/unaware_callfrom.xm","unaware_callfrom.xm (2000)"],
    ["2002/unaware_chece.xm","unaware_chece.xm (2002)"],
    ["2002/unaware_evuole.xm","unaware_evuole.xm (2002)"],
    ["2001/unaware_mboxchip.xm","unaware_mboxchip.xm (2001)"],
    ["2002/unaware_nap.xm","unaware_nap.xm (2002)"],
    ["2002/unaware_stereophonik2001.xm","unaware_stereophonik2001.xm (2002)"],
    ["2002/unaware_untitled.xm","unaware_untitled.xm (2002)"],
    ["2001/vhiiula_bal.it","vhiiula_bal.it (2001)"],
    ["2002/vhiiula_darkservant.it","vhiiula_darkservant.it (2002)"],
    ["2002/vhiiula_dork.it","vhiiula_dork.it (2002)"],
    ["2001/vhiiula_etan.it","vhiiula_etan.it (2001)"],
    ["2001/vhiiula_klam.it","vhiiula_klam.it (2001)"],
    ["2001/vhiiula_misz.it","vhiiula_misz.it (2001)"],
    ["2002/vhiiula_partytrackered.it","vhiiula_partytrackered.it (2002)"],
    ["2001/vhiiula_prel.it","vhiiula_prel.it (2001)"],
    ["2001/vhiiula_tanx.it","vhiiula_tanx.it (2001)"],
    ["2002/vhiiula_whynotsendflowers.it","vhiiula_whynotsendflowers.it (2002)"],
    ["2001/wayfinder_gb01.it","wayfinder_gb01.it (2001)"],
    ["2001/wayfinder_mario.it","wayfinder_mario.it (2001)"],
    ["2000/willbe_aeroplane.it","willbe_aeroplane.it (2000)"],
    ["2000/willbe_minich4tr.it","willbe_minich4tr.it (2000)"],
    ["2000/willbe_minidrktow.it","willbe_minidrktow.it (2000)"],
    ["2000/willbe_miniwash.it","willbe_miniwash.it (2000)"],
    ["2002/xerxes-nezcafe.it","xerxes-nezcafe.it (2002)"],
    ["2002/xerxes_circleofshit.xm","xerxes_circleofshit.xm (2002)"],
];

function getAuthor($mod)
{
    $data = explode('/', $mod)[1];
    $author = explode('_', $data)[0];
    return explode('-', $author);
}
function getYear($mod)
{
    return explode('/', $mod)[0];
}
function getFilename($mod)
{
    $data = explode('/', $mod)[1];
    return explode('_', $data)[1];
}
$data = [];
foreach($files as $file) {
    $mod = $file[0];
    if(strpos($mod, "_new_")) {
        continue;
    }
    $year = getYear($mod);
    $author = getAuthor($mod);
    $filename = getFilename($mod);
    $data[] = [
      "url" => $mod,
      "year" => $year,
      "author" => getAuthor($mod),
      "filename" => getFilename($mod),
    ];

    // @mkdir('public/mods/' . $year);
    // $content = file_get_contents("http://anal0gik.free.fr/music/" . $mod);
    // file_put_contents('public/mods/' . $year . '/' . $filename, $content);

}

echo(json_encode($data));
